{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u043D\\u0430\\u0442\\u043E\\u043B\\u0438\\u0439\\\\desktop\\\\find-friend\\\\find-friend\\\\src\\\\pages\\\\animal-page\\\\animal-page.component.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { getAnimal, getOrganization } from '../../api/api';\nimport { getLocation } from '../../api/geocode';\nimport { Container, Grid, Typography } from '@material-ui/core';\nimport GoogleMap from '../../components/google-map/google-map.component';\nimport styles from './animal-page.module.css';\n\nconst AnimalPage = props => {\n  let [animal, setAnimal] = useState();\n  let [id, setId] = useState();\n  let [org, setOrg] = useState();\n  let [location, setLocation] = useState({});\n  let animalID = props.match.params.id;\n  console.log('This is ID --->', props.match.params.id);\n  useEffect(() => {\n    const fetchAnimal = async () => {\n      const fetchedAnimal = await getAnimal(animalID);\n      setAnimal(fetchedAnimal.data.animal);\n      setId(fetchedAnimal.data.animal.organization_id);\n    };\n\n    fetchAnimal();\n    console.log(id, org);\n  }, []);\n  useEffect(() => {\n    const getOrg = async () => {\n      try {\n        let resp = await getOrganization(id);\n        setOrg(resp.data.organization);\n        console.log(id, org);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getOrg();\n    console.log('data===>', org);\n  }, [id]);\n  useEffect(() => {\n    try {\n      if (org) {\n        const getAddres = async () => {\n          const loc = await getLocation(org.address.address1);\n          setLocation(loc.results[0].geometry.location);\n        };\n\n        console.log(getAddres());\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }, [org]);\n  console.log(animal);\n  console.log(id, org);\n  console.log(location); // setOrganization(org.id)\n\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.animalPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    className: styles.mainGrid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, animal ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, animal.photos ? /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, animal.photos.map(photo => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      src: photo.medium,\n      alt: \"animal-photo\",\n      className: styles.pagePhoto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 48\n      }\n    });\n  })) : null) : null), /*#__PURE__*/React.createElement(Grid, {\n    xs: 8,\n    className: styles.infoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, animal ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, animal.name), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.littleBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, animal.age), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.littleBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, animal.size), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.littleBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, animal.gender)), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"About\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.aboutItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"Spayed/neutered: \", animal.attributes.spayed_neutered ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.aboutItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \"House trained: \", animal.attributes.house_trained ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.aboutItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, \"Special needs: \", animal.attributes.special_needs ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    className: styles.aboutItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"Breed: \", animal.breeds.primary)) : null, location.lat ? /*#__PURE__*/React.createElement(GoogleMap, {\n    location: location,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 26\n    }\n  }) : null))));\n};\n\nexport default AnimalPage;","map":{"version":3,"sources":["C:/Users/Анатолий/desktop/find-friend/find-friend/src/pages/animal-page/animal-page.component.jsx"],"names":["React","useState","useEffect","getAnimal","getOrganization","getLocation","Container","Grid","Typography","GoogleMap","styles","AnimalPage","props","animal","setAnimal","id","setId","org","setOrg","location","setLocation","animalID","match","params","console","log","fetchAnimal","fetchedAnimal","data","organization_id","getOrg","resp","organization","err","getAddres","loc","address","address1","results","geometry","animalPage","mainGrid","photos","map","photo","medium","pagePhoto","infoContainer","name","littleBox","age","size","gender","aboutItem","attributes","spayed_neutered","house_trained","special_needs","breeds","primary","lat"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\r\nimport {getAnimal, getOrganization} from '../../api/api';\r\nimport {getLocation} from '../../api/geocode';\r\nimport {Container, Grid, Typography} from '@material-ui/core';\r\nimport GoogleMap from '../../components/google-map/google-map.component';\r\nimport styles from './animal-page.module.css';\r\n\r\nconst AnimalPage = (props) => {\r\n    let [animal, setAnimal] = useState()\r\n    let [id, setId] = useState()\r\n    let [org, setOrg] = useState()\r\n    let [location, setLocation] = useState({})\r\n    let animalID = props.match.params.id;\r\n    console.log('This is ID --->',props.match.params.id)\r\n    useEffect(() => {\r\n        const fetchAnimal = async () => {\r\n            const fetchedAnimal = await getAnimal(animalID);\r\n            setAnimal(fetchedAnimal.data.animal)\r\n            setId(fetchedAnimal.data.animal.organization_id)\r\n        }\r\n        fetchAnimal()\r\n        console.log(id, org) \r\n    },[])\r\n\r\n    \r\n    useEffect(() => {\r\n        const getOrg = async () => {\r\n                \r\n            try {\r\n              let resp = await getOrganization(id)\r\n              setOrg(resp.data.organization)\r\n              console.log(id, org)\r\n            } catch (err) {\r\n              console.log(err)\r\n            }\r\n             \r\n    }\r\n      getOrg()\r\n      console.log('data===>',org)\r\n    },[id])\r\n\r\n    useEffect(() => {\r\n        try {\r\n            if(org) {\r\n                const getAddres = async () => {\r\n                  const loc = await getLocation(org.address.address1)\r\n                 setLocation(loc.results[0].geometry.location)\r\n                }\r\n                \r\n                console.log(getAddres())\r\n            }\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n      \r\n     \r\n       \r\n    },[org])\r\n    console.log(animal)\r\n    console.log(id, org)\r\n    console.log(location)\r\n    // setOrganization(org.id)\r\n    \r\n   \r\n    return (\r\n        <Container maxWidth='lg'>\r\n            <div className={styles.animalPage}>\r\n            <Grid container direction='row' className={styles.mainGrid}>\r\n            <h1>{\r\n                animal ? \r\n                <div>\r\n                   \r\n                        {\r\n                            animal.photos ? \r\n                            <Grid container direction='column'>\r\n                                {\r\n                                    animal.photos.map(photo => {\r\n                                        return <img src={photo.medium} alt=\"animal-photo\" className={styles.pagePhoto}/>\r\n                                    })\r\n                                }\r\n                                \r\n                            </Grid> : null\r\n                        }\r\n                    \r\n                    </div>  : null\r\n                }</h1>\r\n\r\n                <Grid xs={8} className={styles.infoContainer}>\r\n                    {\r\n                        animal ?\r\n                        <div>\r\n                        <h1>{animal.name}</h1>\r\n                       \r\n                       <Grid container direction='row'>\r\n                        <Typography variant='body1' className={styles.littleBox}>\r\n                            {animal.age}\r\n                        </Typography>\r\n                        <Typography variant='body1' className={styles.littleBox}>\r\n                            {animal.size}\r\n                        </Typography>\r\n                        <Typography variant='body1' className={styles.littleBox}>\r\n                            {animal.gender}\r\n                        </Typography>\r\n                        </Grid>\r\n\r\n                        <h1>About</h1>\r\n                        <Typography variant='body1' className={styles.aboutItem}>\r\n                           Spayed/neutered: {animal.attributes.spayed_neutered ? 'Yes' : 'No'}\r\n                        </Typography>\r\n                        <Typography variant='body1' className={styles.aboutItem}>\r\n                           House trained: {animal.attributes.house_trained ? 'Yes' : 'No'}\r\n                        </Typography>\r\n                        <Typography variant='body1' className={styles.aboutItem}>\r\n                          Special needs: {animal.attributes.special_needs ? 'Yes' : 'No'}\r\n                        </Typography>\r\n                        <Typography variant='body1' className={styles.aboutItem}>\r\n                          Breed: {animal.breeds.primary}\r\n                        </Typography>\r\n                        </div>  : null\r\n                    }   \r\n\r\n                     {\r\n                         location.lat ?\r\n                         <GoogleMap location={location} /> :\r\n                         null\r\n                     }   \r\n                 \r\n                    \r\n                   \r\n                </Grid>\r\n\r\n            </Grid>\r\n        </div>\r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\nexport default AnimalPage;"]},"metadata":{},"sourceType":"module"}